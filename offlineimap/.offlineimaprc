[general]
accounts = work
maxsyncaccounts = 1
pythonfile = ~/.offlineimap.py

[Account work]
localrepository = work-local
remoterepository = work-remote
synclabels = yes
autorefresh = 0.5
quick = 10
postsynchook = emacsclient -e '(mu4e-update-index)'

[Repository work-local]
type = GmailMaildir
localfolders = ~/maildir/work

[Repository work-remote]
type = Gmail
maxconnections = 2
remoteuser = thomas@adaptive.co.uk
remotepasseval = get_work_pass()
folderfilter = lambda foldername: foldername not in ['[Gmail]/All Mail', '[Gmail]/Important']
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
keepalive = 60
holdconnectionopen = yes
